:root{--background-color:#000000;--player-background:#121212;--primary-text:#FFFFFF;--secondary-text:#B3B3B3;--accent-color:#1DB954;--border-color:#282828;}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background-color:var(--background-color);color:var(--primary-text);display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden;}
#player-container{width:100%;height:100%;max-width:900px;max-height:90vh;background-color:var(--player-background);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.5);display:flex;flex-direction:column;overflow:hidden;position:relative;}
#visualizer-wrapper{flex-grow:1;position:relative;display:flex;justify-content:center;align-items:center;background-color:var(--background-color);transition:background-color .3s ease;}
#spectrum-canvas{position:absolute;top:0;left:0;width:100%;height:100%;}
#center-image{object-fit:cover;box-shadow:0 4px 12px rgba(0,0,0,0.4);display:none;transition:width .3s ease, height .3s ease;}
#center-image.is-ring{display:block;border-radius:50%;}
#controls-area{padding:20px 30px;background-color:rgba(18,18,18,0.8);backdrop-filter:blur(10px);border-top:1px solid var(--border-color);transition:transform .3s ease-in-out;}
#controls-area.hidden{transform:translateY(100%);}
.floating-btn{position:absolute;bottom:20px;right:30px;z-index:10;width:50px;height:50px;border-radius:50%;background-color:var(--accent-color);color:var(--primary-text);}
.song-info{text-align:center;margin-bottom:15px;}
.progress-container{width:100%;margin-bottom:10px;}
.progress-bar-wrapper{background-color:#444;height:5px;border-radius:5px;cursor:pointer;width:100%;}
.progress-bar{background-color:var(--primary-text);width:0;height:100%;border-radius:5px;transition:width .1s linear;}
.progress-bar-wrapper:hover .progress-bar{background-color:var(--accent-color);}
.time-display{display:flex;justify-content:space-between;font-size:0.75rem;color:var(--secondary-text);margin-top:5px;}
.main-controls{display:flex;justify-content:center;align-items:center;gap:20px;margin-bottom:15px;}
.control-btn{background:none;border:none;color:var(--secondary-text);font-size:18px;cursor:pointer;transition:all .2s ease;position:relative;}
.control-btn:hover{color:var(--primary-text);}
#loop-btn.loop-one::after{content:'1';position:absolute;font-size:10px;font-weight:bold;top:0;right:0;color:var(--accent-color);}
#loop-btn.loop-all{color:var(--accent-color);}
.control-btn img{width:18px;height:18px;filter:invert(70%);transition:filter .2s ease;}
.control-btn:hover img{filter:invert(100%);}
#play-pause-btn{font-size:28px;width:50px;height:50px;border-radius:50%;background-color:var(--primary-text);color:var(--player-background);display:flex;justify-content:center;align-items:center;}
#play-pause-btn:hover{transform:scale(1.05);background-color:var(--accent-color);color:var(--primary-text);}
#play-pause-btn .fa-pause{display:none;}
#play-pause-btn.playing .fa-play{display:none;}
#play-pause-btn.playing .fa-pause{display:block;}
.side-controls{display:flex;justify-content:space-between;align-items:center;position:absolute;bottom:25px;left:30px;right:30px;}
.volume-container, .extra-buttons{display:flex;align-items:center;gap:15px;}
#volume-slider{-webkit-appearance:none;width:80px;height:4px;background:#444;border-radius:5px;outline:none;cursor:pointer;}
#volume-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;background:var(--primary-text);border-radius:50%;cursor:pointer;}
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,0.6);backdrop-filter:blur(5px);}
.modal-content{background-color:#282828;margin:10% auto;padding:25px;border-radius:10px;width:90%;max-width:500px;position:relative;box-shadow:0 5px 15px rgba(0,0,0,0.5);}
.close-btn{color:#aaa;position:absolute;top:15px;right:20px;font-size:28px;font-weight:bold;cursor:pointer;}
.close-btn:hover{color:#fff;}
.modal h2{margin-bottom:20px;}
.modal-scroll-content{max-height:60vh;overflow-y:auto;padding-right:10px;}
.setting{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;}
.setting label{color:var(--secondary-text);}
select,input[type="color"],.action-btn{background-color:#333;color:#fff;border:1px solid #555;border-radius:5px;padding:8px;cursor:pointer;}
.action-btn{margin-top:15px;width:100%;}
.upload-buttons{display:flex;gap:10px;margin-top:15px;}
.upload-buttons .action-btn{margin-top:0;}
#playlist li{display:flex;align-items:center;padding:10px;border-bottom:1px solid var(--border-color);list-style-type:none;user-select:none;}
#playlist li.active{color:var(--accent-color);font-weight:bold;}
#playlist li .drag-handle{cursor:grab;margin-right:10px;color:var(--secondary-text);}
#playlist li .song-title-playlist{flex-grow:1;}
#playlist li .remove-song-btn{cursor:pointer;margin-left:10px;color:var(--secondary-text);}
#playlist li .remove-song-btn:hover{color:#ff4d4d;}
#playlist li.dragging{opacity:0.5;}
#equalizer-bands{display:flex;justify-content:space-around;align-items:flex-end;height:200px;padding:20px 0;}
.band{display:flex;flex-direction:column;align-items:center;}
.band label{font-size:0.7rem;margin-top:8px;color:var(--secondary-text);}
.band input[type=range]{writing-mode:bt-lr;-webkit-appearance:none;width:15px;height:150px;background:transparent;cursor:pointer;}
.band input[type=range]::-webkit-slider-runnable-track{width:5px;height:100%;background:#444;border-radius:5px;}
.band input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;background:var(--primary-text);margin-top:0;}
@media (max-width: 768px){#player-container{max-height:100vh;border-radius:0;}#controls-area{padding:15px;}
.side-controls{position:static;margin-top:15px;}
.main-controls{margin-bottom:0;}
#center-image{width:150px;height:150px;}}